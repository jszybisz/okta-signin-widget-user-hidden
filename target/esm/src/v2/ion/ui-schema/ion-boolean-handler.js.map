{"version":3,"file":"ion-boolean-handler.js","sources":["../../../../../../src/v2/ion/ui-schema/ion-boolean-handler.js"],"sourcesContent":["/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { FORMS } from '../RemediationConstants';\nimport { loc } from '@okta/courage';\n\nconst getCheckboxUiSchema = ({ label, type, required }) => ({\n  // For Remember Me checkbox, we need the label only on the right side of it.\n  placeholder: label,\n  label: false,\n  // Separating prop type for Backbone.Model\n  // from html input type\n  modelType: type,\n  // uiSchema type is the html input type desired.\n  type: 'checkbox',\n  required: required || false,\n});\n\nconst getRadioUiSchema = ({ label, required, options }) => ({\n  displayName: label,\n  type: 'radio',\n  required: required,\n  options: options[0].value.value.options,\n  sublabel: required? null : loc('oie.form.field.optional', 'login'),\n});\n\nconst getCheckboxUiSchemaWithDefaultValue = ({ label, type }) => ({\n  placeholder: label,\n  label: false,\n  modelType: type,\n  type: 'checkbox',\n  // set required true so default value can be passed to optional attributes as well\n  required: true,\n  value: false,\n});\n\nconst createUiSchemaForBoolean = (ionFormField, remediationForm) => {\n  if ([FORMS.CONSENT_ENDUSER, FORMS.CONSENT_ADMIN].includes(remediationForm.name)) {\n    const scopes = remediationForm.scopes.map(({name, label, desc}) => {\n      return {name, displayName: label, description: desc};\n    });\n\n    // setting 'type' here to add a specific View in FormInputFactory.create\n    const type = remediationForm.name;\n\n    return {type, scopes, options: ionFormField.options};\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'radio') {\n    return getRadioUiSchema(ionFormField);\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'checkbox') {\n    return getCheckboxUiSchemaWithDefaultValue(ionFormField);\n  } else {\n    return getCheckboxUiSchema(ionFormField);\n  }\n};\n\nexport default createUiSchemaForBoolean;\n"],"names":["getCheckboxUiSchema","label","type","required","placeholder","modelType","getRadioUiSchema","options","displayName","value","sublabel","loc","getCheckboxUiSchemaWithDefaultValue","createUiSchemaForBoolean","ionFormField","remediationForm","_ionFormField$options","_ionFormField$options2","_ionFormField$options3","_ionFormField$options4","_ionFormField$options5","_ionFormField$options6","FORMS","CONSENT_ENDUSER","CONSENT_ADMIN","includes","name","scopes","map","desc","description","Array","isArray","inputType"],"mappings":"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"}