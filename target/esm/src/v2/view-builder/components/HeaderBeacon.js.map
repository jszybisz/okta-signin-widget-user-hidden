{"version":3,"file":"HeaderBeacon.js","sources":["../../../../../../src/v2/view-builder/components/HeaderBeacon.js"],"sourcesContent":["/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default View.extend({\n  template: hbs`\n    <div data-type=\"beacon-container\" class=\"beacon-container\">\n      <div class=\"beacon-blank auth-beacon\">\n        <div class=\"beacon-blank js-blank-beacon-border auth-beacon-border\"></div>\n      </div>\n      {{#if logoUri}}\n      <div class=\"bg-helper auth-beacon auth-beacon-factor {{className}} custom-app-logo\" \n      data-se=\"factor-beacon\" role=\"img\" \n        aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\">\n      {{else}}\n      <div class=\"bg-helper auth-beacon auth-beacon-factor {{className}}\" data-se=\"factor-beacon\">\n      {{/if}}\n          <div class=\"okta-sign-in-beacon-border auth-beacon-border\"></div>\n        </div>\n    </div >\n  `,\n\n  postRender: function() {\n    View.prototype.postRender.apply(this, arguments);\n    const data = this.getTemplateData();\n    if (data.logoUri) {\n      this.el.querySelector('.custom-app-logo').style.backgroundImage = `url(${data.logoUri})`;\n    }\n  },\n  getTemplateData: function() {\n    const appState = this.options?.appState;\n    return { className: this.getBeaconClassName() || '',\n      logoUri: appState?.get('currentAuthenticator')?.logoUri || \n        appState?.get('currentAuthenticatorEnrollment')?.logoUri\n    };\n  },\n  getBeaconClassName() {\n    return 'undefined-user';\n  }\n});\n"],"names":["View","extend","template","_Handlebars2","1","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","3","main","stack1","program","postRender","apply","arguments","getTemplateData","logoUri","el","querySelector","style","backgroundImage","_this$options","_appState$get","_appState$get2","appState","options","className","getBeaconClassName","get"],"mappings":"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"}