{"version":3,"file":"ScopeCheckBox.js","sources":["../../../../../../src/v2/view-builder/components/ScopeCheckBox.js"],"sourcesContent":["import { _, internal, loc } from '@okta/courage';\nimport { doesI18NKeyExist } from 'v2/ion/i18nTransformer';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nconst CheckBox = internal.views.forms.inputs.CheckBox;\n\nexport default CheckBox.extend({\n  template: hbs`\n    <input type=\"checkbox\" name=\"{{name}}\" id=\"{{inputId}}\"/>\n    <label for=\"{{inputId}}\" data-se-for-name=\"{{name}}\"><b>{{placeholder}}</b><p>{{desc}}</p></label>\n  `,\n\n  getLocalizedLabel: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.label`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : (this.options.placeholder || this.options.options.scopeName);\n  },\n\n  getLocalizedDesc: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.desc`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : this.options.options.desc;\n  },\n\n  isCustomizedScope: function() {\n    return !doesI18NKeyExist(`consent.scopes.${this.options.options.scopeName}.label`);\n  },\n\n  /**\n   * @Override\n   */\n  enable: function() {\n    if (this.options.options.mutable) {\n      this.$(':input').prop('disabled', false);\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function() {\n\n    this.$el.html(this.template(_.extend(_.omit(this.options, 'placeholder'), {\n      placeholder: this.getLocalizedLabel(),\n      desc: this.getLocalizedDesc()\n    })));\n\n    this.$(':checkbox').prop('checked', this.getModelValue() || false);\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n\n    if (!this.options.options.mutable) {\n      const input = this.$('input').get(0);\n      this.$(input.parentElement).addClass('o-form-read-mode');\n      this.$(':checkbox').prop('disabled', true);\n    }\n\n    if (this.options.options.scopeName === 'openid' || this.isCustomizedScope()) {\n      this.$('label > b').addClass('no-translate');\n      if (this.isCustomizedScope()) {\n        this.$('label > p').addClass('no-translate');\n      }\n    }\n\n    return this;\n  },\n\n});"],"names":["CheckBox","internal","views","forms","inputs","extend","template","_Handlebars2","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","getLocalizedLabel","key","options","scopeName","doesI18NKeyExist","loc","placeholder","getLocalizedDesc","desc","isCustomizedScope","enable","mutable","$","prop","editMode","$el","html","_","omit","getModelValue","customInput","model","trigger","input","get","parentElement","addClass"],"mappings":"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"}