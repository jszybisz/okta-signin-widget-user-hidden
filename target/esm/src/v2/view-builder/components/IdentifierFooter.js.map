{"version":3,"file":"IdentifierFooter.js","sources":["../../../../../../src/v2/view-builder/components/IdentifierFooter.js"],"sourcesContent":["import { loc, View } from '@okta/courage';\nimport { BaseFooter } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getForgotPasswordLink, getSignUpLink } from '../utils/LinksUtil';\nimport Link from './Link';\nimport hbs from '@okta/handlebars-inline-precompile';\n\nexport default BaseFooter.extend({\n\n  showForgotPasswordLink() {\n    return !this.options.appState.isIdentifierOnlyView();\n  },\n\n  footerInfo() {\n    const signUpLinkData = getSignUpLink(this.options.appState, this.options.settings);\n    let SignUpLinkWithText;\n    //Build sign up link view appended with a text. Link class can only build anchor tags\n    if(signUpLinkData.length) {\n      SignUpLinkWithText = View.extend({\n        className: 'signup-info',\n        template: hbs`\n          <span>{{i18n code=\"registration.signup.label\" bundle=\"login\"}}</span><span class=\"signup-link\"></span>\n          `,\n        initialize() {\n          this.add(Link, '.signup-link', {\n            options: signUpLinkData[0]\n          });\n        }\n      });\n    }\n    return SignUpLinkWithText;\n  },\n\n  links() {\n    const { appState, settings } = this.options;\n\n    let helpLinkHref;\n    if (settings.get('helpLinks.help')) {\n      helpLinkHref = settings.get('helpLinks.help');\n    } else {\n      const baseUrl = settings.get('baseUrl');\n      helpLinkHref = baseUrl + '/help/login';\n    }\n\n    const helpLink = [\n      {\n        'name': 'help',\n        'label': loc('help', 'login'),\n        'href': helpLinkHref,\n        'target': '_blank',\n      },\n    ];\n\n    let forgotPasswordLink = [];\n    if (this.showForgotPasswordLink()) {\n      forgotPasswordLink = getForgotPasswordLink(appState, settings);\n    }\n\n    const customHelpLinks = [];\n    if (settings.get('helpLinks.custom')) {\n      //add custom helpLinks\n      settings.get('helpLinks.custom').forEach(customHelpLink => {\n        customHelpLink.name = 'custom';\n        customHelpLink.label = customHelpLink.text;\n        customHelpLinks.push(customHelpLink);\n      });\n    }\n\n    const unlockAccountLink = [];\n    if (settings.get('helpLinks.unlock')) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'href': settings.get('helpLinks.unlock'),\n      });\n    } else if (appState.hasRemediationObject(RemediationForms.UNLOCK_ACCOUNT)) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'actionPath': RemediationForms.UNLOCK_ACCOUNT,\n      });\n    }\n\n    return forgotPasswordLink\n      .concat(unlockAccountLink)\n      .concat(helpLink)\n      .concat(customHelpLinks);\n  }\n});\n"],"names":["BaseFooter","extend","showForgotPasswordLink","options","appState","isIdentifierOnlyView","footerInfo","signUpLinkData","getSignUpLink","settings","SignUpLinkWithText","length","View","className","template","_Handlebars2","main","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","escapeExpression","hooks","helperMissing","nullContext","initialize","add","Link","links","helpLinkHref","get","baseUrl","helpLink","loc","forgotPasswordLink","getForgotPasswordLink","customHelpLinks","forEach","customHelpLink","name","label","text","push","unlockAccountLink","hasRemediationObject","RemediationForms","UNLOCK_ACCOUNT","concat"],"mappings":"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"}