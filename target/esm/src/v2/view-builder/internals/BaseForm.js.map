{"version":3,"file":"BaseForm.js","sources":["../../../../../../src/v2/view-builder/internals/BaseForm.ts"],"sourcesContent":["import hbs from '@okta/handlebars-inline-precompile';\n\nimport { _, Form, loc, internal, createCallout, View } from '@okta/courage';\nimport * as FormInputFactory from './FormInputFactory';\n\nconst { FormUtil } = internal.views.forms.helpers;\nconst INFO_MESSAGE_CLASS = 'INFO';\n\nexport default Form.extend({\n\n  layout: 'o-form-theme',\n  className: 'ion-form',\n  hasSavingState: true,\n  autoSave: false,\n  noCancelButton: true,\n\n  title() {\n    return loc('oform.title.authenticate', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  modelEvents: {\n    'clearFormError': 'handleClearFormError',\n    'error': 'triggerAfterError',\n  },\n\n  initialize() {\n    const uiSchemas = this.getUISchema();\n    const inputOptions = uiSchemas.map(FormInputFactory.create);\n\n    //should be used before adding any other input components\n    this.showMessages();\n\n    // Render CAPTCHA if one of the form fields requires us to.\n    this.listenTo(this.options.appState, 'onCaptchaLoaded', (captchaObject) => {\n      this.captchaObject = captchaObject;\n    });\n\n    inputOptions.forEach(input => {\n      this.addInputOrView(input);\n    });\n\n    this.listenTo(this, 'save', this.saveForm);\n    this.listenTo(this, 'cancel', this.cancelForm);\n  },\n\n  focus(...args) {\n    if (this.settings.get('features.autoFocus')) {\n      Form.prototype.focus.apply(this, args);\n    }\n  },\n\n  handleClearFormError() {\n    const formErrorContainer = this.$('.o-form-error-container');\n    formErrorContainer.empty();\n    if (formErrorContainer.hasClass('o-form-has-errors')) {\n      this.clearErrors();\n    }\n  },\n\n  triggerAfterError(model, error) {\n    this.options.appState.trigger('afterError', error);\n  },\n\n  saveForm(model) {\n    //remove any existing warnings or messages before saving form\n    this.$el.find('.o-form-error-container').empty();\n\n    // Execute Captcha if enabled for this form.\n    if (this.captchaObject) {\n      this.captchaObject.execute();\n    } else {\n      this.options.appState.trigger('saveForm', model);\n    }\n  },\n\n  postRender() {\n    /**\n     * Widget would use infoContainer to display interactive messages that should be persisted during\n     * invalid form submissions. For eg resend-warning callout should not be cleared upon invalid form submit.\n     * Rerender would clear infoContainer or views classes can clear it explicitly.\n     */\n    let infoContainer = this.$el.find('.o-form-info-container');\n    if (!infoContainer.length) {\n      this.add('<div class=\"o-form-info-container\"></div>');\n      infoContainer = this.$el.find('.o-form-info-container');\n    }\n\n    this.$el.find('.o-form-error-container')\n      .attr('role', 'alert')\n      .before(infoContainer);\n\n    this.addIdentifier();\n  },\n\n  /**\n   * Render user identifier below title, or if no title, render below message.\n   */\n  addIdentifier() {\n    const { identifier } = this.options.appState.get('user') || {};\n    if (!identifier) {\n      return;\n    } else if (!this.settings.get('features.showIdentifier')) {\n      return;\n    }\n\n    const header = this.$el.find('[data-se=\"o-form-head\"]');\n    const identifierHTMLString = hbs('<div class=\"identifier-container\">\\\n        <span class=\"identifier no-translate\" data-se=\"identifier\" title=\"{{identifier}}\">{{identifier}}</span>\\\n      </div>')({identifier});\n\n    if (header.length) {\n      header.after(identifierHTMLString);\n    } else {\n      this.$el.find('.o-form-error-container').after(identifierHTMLString);\n    }\n  },\n\n  cancelForm() {\n    this.options.appState.trigger('invokeAction', 'cancel');\n  },\n\n  getUISchema() {\n    if (Array.isArray(this.options.currentViewState.uiSchema)) {\n      return this.options.currentViewState.uiSchema;\n    } else {\n      return [];\n    }\n  },\n\n  addInputOrView(input) {\n    if (input.visible === false || (input.mutable === false && input.visible !== true)) {\n      return;\n    }\n    if (input.View) {\n      this.add(input.View, _.omit(input, 'View', 'showWhen'));\n      if (input.showWhen) {\n        FormUtil.applyShowWhen(this.last(), input.showWhen);\n      }\n    } else {\n      this.addInput(input);\n    }\n\n    if (Array.isArray(input.optionsUiSchemas)) {\n      if (this.options.optionUiSchemaConfig[input.name]) {\n        const optionUiSchemaIndex = Number(this.options.optionUiSchemaConfig[input.name]);\n        const optionUiSchemas = input.optionsUiSchemas[optionUiSchemaIndex] || [];\n        optionUiSchemas.forEach(this.addInputOrView.bind(this));\n      }\n    }\n  },\n\n  /*\n  * Views should override this function to render custom error callouts for invalid form actions.\n  * Should return true when callout is customized\n  */\n  showCustomFormErrorCallout: null,\n\n  /*\n   * Renders the contents of messages object (if any, on error) during initialize\n   * This function is called during Form.initialize, and will display\n   * messages when the form reloads.\n   * Note: Any user action related form errors handled by FormController.showFormErrors\n   */\n  showMessages(options) {\n    const messages = this.options.appState.get('messages') || {};\n    const errContainer = '.o-form-error-container';\n    if (Array.isArray(messages.value) && !(options instanceof View)) {\n      this.add('<div class=\"ion-messages-container\"></div>', errContainer);\n      messages.value.forEach(obj => {\n        if(!obj?.class || obj.class === INFO_MESSAGE_CLASS) {\n          // add message as plain text\n          this.add(`<p>${obj.message}</p>`, '.ion-messages-container');\n        } else {\n          const errorObj = {\n            class: obj?.class ?? '',\n            message: obj?.message,\n            title: '',\n            ...options\n          };\n          this.add(createCallout({\n            content: errorObj.message,\n            type: errorObj.class.toLowerCase(),\n            title: errorObj.title\n          }), errContainer);\n          options = null; // prevent repeating first error message\n        }\n      });\n    } else if (options instanceof View) {\n      // if callee is showCustomFormErrorCallout. show custom error views\n      this.add(options, errContainer);\n    }\n  },\n});"],"names":["FormUtil","internal","views","forms","helpers","INFO_MESSAGE_CLASS","Form","extend","layout","className","hasSavingState","autoSave","noCancelButton","title","loc","save","modelEvents","initialize","uiSchemas","getUISchema","inputOptions","map","FormInputFactory","showMessages","listenTo","options","appState","captchaObject","forEach","input","addInputOrView","saveForm","cancelForm","focus","args","settings","get","prototype","apply","handleClearFormError","formErrorContainer","$","empty","hasClass","clearErrors","triggerAfterError","model","error","trigger","$el","find","execute","postRender","infoContainer","length","add","attr","before","addIdentifier","identifier","header","identifierHTMLString","_Handlebars2","template","main","container","depth0","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","hasOwnProperty","call","undefined","after","Array","isArray","currentViewState","uiSchema","visible","mutable","View","_","omit","showWhen","applyShowWhen","last","addInput","optionsUiSchemas","optionUiSchemaConfig","name","optionUiSchemaIndex","Number","optionUiSchemas","bind","showCustomFormErrorCallout","messages","errContainer","value","obj","class","message","_obj$class","errorObj","createCallout","content","type","toLowerCase"],"mappings":"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"}