{"version":3,"file":"BaseIdpAuthenticator.js","sources":["../../../../../../../src/v2/view-builder/views/idp/BaseIdpAuthenticator.js"],"sourcesContent":["import { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from 'v2/view-builder/components/BaseAuthenticatorView';\nimport { FORMS as REMEDIATION_FORMS } from 'v2/ion/RemediationConstants';\n\nexport const BaseIdPAuthenticatorBody =  BaseForm.extend({\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.add('<div class=\"okta-waiting-spinner\"></div>');\n  }\n});\n\nexport const BaseIdpAuthenticatorView = BaseAuthenticatorView.extend({\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // get the error messages\n    const messages = this.options.appState.get('messages') || {};\n    // In case of failure, don't auto-redirect which will result in infinite redirects.\n    // so catch the error and render to the user.\n    if (\n      this.settings.get('features.skipIdpFactorVerificationBtn') &&\n      !Array.isArray(messages.value) &&\n      this.model.get('formName') !== REMEDIATION_FORMS.REDIRECT_IDVERIFY\n    ) { \n      this.$('.o-form-button-bar').hide();\n      this.$('.okta-waiting-spinner').show();\n      this.form.trigger('save', this.model);\n    } else {\n      this.$('.okta-waiting-spinner').hide();\n      this.$('.o-form-button-bar').show();\n    }\n  }\n});\n"],"names":["BaseIdPAuthenticatorBody","BaseForm","extend","initialize","prototype","apply","arguments","model","set","add","BaseIdpAuthenticatorView","BaseAuthenticatorView","postRender","messages","options","appState","get","settings","Array","isArray","value","REMEDIATION_FORMS","REDIRECT_IDVERIFY","$","hide","show","form","trigger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;MAIaA,wBAAwB,GAAIC,QAAQ,CAACC,MAAM,CAAC;EACvDC,UAAU,EAAA,YAAG;IACXF,QAAQ,CAACG,SAAS,CAACD,UAAU,CAACE,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IACpD,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAA;AACnC,IAAA,IAAI,CAACC,GAAG,CAAC,0CAA0C,CAAC,CAAA;AACtD,GAAA;AACF,CAAC,EAAC;MAEWC,wBAAwB,GAAGC,qBAAqB,CAACT,MAAM,CAAC;EACnEU,UAAU,EAAA,YAAG;IACXD,qBAAqB,CAACP,SAAS,CAACQ,UAAU,CAACP,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;AACjE;AACA,IAAA,MAAMO,QAAQ,GAAG,IAAI,CAACC,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAA;AAC5D;AACA;AACA,IAAA,IACE,IAAI,CAACC,QAAQ,CAACD,GAAG,CAAC,uCAAuC,CAAC,IAC1D,CAACE,KAAK,CAACC,OAAO,CAACN,QAAQ,CAACO,KAAK,CAAC,IAC9B,IAAI,CAACb,KAAK,CAACS,GAAG,CAAC,UAAU,CAAC,KAAKK,KAAiB,CAACC,iBAAiB,EAClE;MACA,IAAI,CAACC,CAAC,CAAC,oBAAoB,CAAC,CAACC,IAAI,EAAE,CAAA;MACnC,IAAI,CAACD,CAAC,CAAC,uBAAuB,CAAC,CAACE,IAAI,EAAE,CAAA;MACtC,IAAI,CAACC,IAAI,CAACC,OAAO,CAAC,MAAM,EAAE,IAAI,CAACpB,KAAK,CAAC,CAAA;AACvC,KAAC,MAAM;MACL,IAAI,CAACgB,CAAC,CAAC,uBAAuB,CAAC,CAACC,IAAI,EAAE,CAAA;MACtC,IAAI,CAACD,CAAC,CAAC,oBAAoB,CAAC,CAACE,IAAI,EAAE,CAAA;AACrC,KAAA;AACF,GAAA;AACF,CAAC;;;;"}