{"version":3,"file":"ChallengeAuthenticatorDataEmailView.js","sources":["../../../../../../../src/v2/view-builder/views/email/ChallengeAuthenticatorDataEmailView.js"],"sourcesContent":["import { loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorView.prototype.Body;\n\nconst SubtitleView = View.extend({\n  template: hbs`\n    <div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">\n      {{#if email}}\n        {{#if secondaryEmail}}\n          {{i18n\n            code=\"oie.email.verify.subtitle.text.with.email.and.secondary.email\"\n            bundle=\"login\"\n            arguments=\"email;secondaryEmail\"\n            $1=\"<span class='strong no-translate'>$1</span>\"\n            $2=\"<span class='strong no-translate'>$2</span>\"\n          }}\n        {{else}}\n          {{i18n\n            code=\"oie.email.verify.subtitle.text.with.email\"\n            bundle=\"login\"\n            arguments=\"email\"\n            $1=\"<span class='strong no-translate'>$1</span>\"\n          }}\n        {{/if}}\n      {{else}}\n        {{i18n\n          code=\"oie.email.verify.subtitle.text.without.email\"\n          bundle=\"login\"\n        }}\n      {{/if}}\n    </div>\n  `,\n\n  getTemplateData() {\n    const email = this.options.appState.get('currentAuthenticatorEnrollment')?.profile?.email;\n    const secondaryEmail = this.options.appState.get('currentAuthenticatorEnrollment')?.profile?.secondaryEmail;\n    return {\n      email,\n      secondaryEmail\n    };\n  },\n});\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  {\n    title() {\n      return loc('oie.email.challenge.mfa.title', 'login');\n    },\n\n    save() {\n      return loc('oie.email.verify.primaryButton', 'login');\n    },\n\n    postRender() {\n      BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n      this.add(SubtitleView, {\n        prepend: true,\n        selector: '.o-form-info-container',\n      });\n    },\n\n    getUISchema() {\n      // Prevent from displaying radio buttons on the UI\n      const uiSchemas = BaseAuthenticatorEmailForm.prototype.getUISchema.apply(this, arguments);\n      return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n    },\n  },\n);\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n"],"names":["BaseAuthenticatorEmailForm","BaseAuthenticatorView","prototype","Body","SubtitleView","View","extend","template","_Handlebars2","1","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","Object","hasOwnProperty","call","undefined","nullContext","program","2","escapeExpression","hooks","helperMissing","4","6","main","getTemplateData","_this$options$appStat","_this$options$appStat2","_this$options$appStat3","_this$options$appStat4","email","options","appState","get","profile","secondaryEmail","title","loc","save","postRender","apply","arguments","add","prepend","selector","getUISchema","uiSchemas","filter","schema","name"],"mappings":"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"}