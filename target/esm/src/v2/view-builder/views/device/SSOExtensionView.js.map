{"version":3,"file":"SSOExtensionView.js","sources":["../../../../../../../src/v2/view-builder/views/device/SSOExtensionView.js"],"sourcesContent":["import { BaseForm, BaseView } from '../../internals';\nimport { loc } from '@okta/courage';\n\n// for BETA,\n// redirect is needed for Apple SSO Extension to intercept the request, because\n// - XHR request is not interceptable\n// - form post is interceptable, but some app (Outlook) closes the app after\n// We may have a different approach/UX for EA\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  title() {\n    return loc('deviceTrust.sso.redirectText', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    this.listenTo(this.model, 'error', () => {\n      this.$('.spinner').hide();\n    });\n    this.add('<div class=\"spinner\"></div>');\n\n    const isGetMethod = this.options.currentViewState?.method?.toLowerCase() === 'get';\n    this.model.set('useRedirect', isGetMethod);\n    this.trigger('save', this.model);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n});\n"],"names":["Body","BaseForm","extend","noButtonBar","className","title","loc","initialize","_this$options$current","_this$options$current2","prototype","apply","arguments","listenTo","model","$","hide","add","isGetMethod","options","currentViewState","method","toLowerCase","set","trigger","BaseView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAMA,IAAI,GAAGC,QAAQ,CAACC,MAAM,CAAC;AAC3BC,EAAAA,WAAW,EAAE,IAAI;AAEjBC,EAAAA,SAAS,EAAE,gCAAgC;EAE3CC,KAAK,EAAA,YAAG;AACN,IAAA,OAAOC,GAAG,CAAC,8BAA8B,EAAE,OAAO,CAAC,CAAA;GACpD;EAEDC,UAAU,EAAA,YAAG;IAAA,IAAAC,qBAAA,EAAAC,sBAAA,CAAA;IACXR,QAAQ,CAACS,SAAS,CAACH,UAAU,CAACI,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IAEpD,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,KAAK,EAAE,OAAO,EAAE,MAAM;MACvC,IAAI,CAACC,CAAC,CAAC,UAAU,CAAC,CAACC,IAAI,EAAE,CAAA;AAC3B,KAAC,CAAC,CAAA;AACF,IAAA,IAAI,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAAA;IAEvC,MAAMC,WAAW,GAAG,CAAA,CAAAV,qBAAA,GAAA,IAAI,CAACW,OAAO,CAACC,gBAAgB,MAAAZ,IAAAA,IAAAA,qBAAA,KAAAC,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,sBAAA,GAA7BD,qBAAA,CAA+Ba,MAAM,MAAA,IAAA,IAAAZ,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAArCA,sBAAA,CAAuCa,WAAW,EAAE,MAAK,KAAK,CAAA;IAClF,IAAI,CAACR,KAAK,CAACS,GAAG,CAAC,aAAa,EAAEL,WAAW,CAAC,CAAA;IAC1C,IAAI,CAACM,OAAO,CAAC,MAAM,EAAE,IAAI,CAACV,KAAK,CAAC,CAAA;AAClC,GAAA;AACF,CAAC,CAAC,CAAA;AAEF,uBAAeW,QAAQ,CAACvB,MAAM,CAAC;AAC7BF,EAAAA,IAAI,EAAJA,IAAAA;AACF,CAAC,CAAC;;;;"}