{"version":3,"file":"PwdResetEmailSentController.js","sources":["../../../../../src/v1/controllers/PwdResetEmailSentController.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nimport FormController from 'v1/util/FormController';\nimport FormType from 'v1/util/FormType';\nexport default FormController.extend({\n  className: 'password-reset-email-sent',\n  Model: function() {\n    return {\n      local: {\n        userFullName: ['string', false, this.options.appState.get('userFullName')],\n      },\n    };\n  },\n\n  Form: {\n    title: _.partial(loc, 'password.forgot.emailSent.title', 'login'),\n    subtitle: function() {\n      const username = this.options.appState.get('username');\n\n      return loc('password.forgot.emailSent.desc', 'login', [username]);\n    },\n    noButtonBar: true,\n    attributes: { 'data-se': 'pwd-reset-email-sent' },\n    formChildren: function() {\n      let children = [\n        FormType.View({\n          View: View.extend({\n            template: hbs(\n              '\\\n              <span class=\"accessibility-text\" role=\"status\">{{alert}}</span>\\\n              '\n            ),\n            getTemplateData: function() {\n              return { alert: loc('password.forgot.emailSent.title', 'login') };\n            },\n          }),\n        }),\n      ];\n\n      if (!this.settings.get('features.hideBackToSignInForReset')) {\n        children.push(\n          FormType.Button({\n            title: loc('goback', 'login'),\n            className: 'button button-primary button-wide',\n            attributes: { 'data-se': 'back-button' },\n            click: function() {\n              const self = this;\n\n              return this.model\n                .doTransaction(function(transaction) {\n                  return transaction.cancel();\n                })\n                .then(function() {\n                  self.state.set('navigateDir', Enums.DIRECTION_BACK);\n                  self.options.appState.trigger('navigate', '');\n                });\n            },\n          })\n        );\n      }\n\n      return children;\n    },\n  },\n\n  initialize: function(options) {\n    this.settings.callGlobalSuccess(Enums.FORGOT_PASSWORD_EMAIL_SENT, {\n      username: options.appState.get('username'),\n    });\n  },\n});\n"],"names":["FormController","extend","className","Model","local","userFullName","options","appState","get","Form","title","_","partial","loc","subtitle","username","noButtonBar","attributes","formChildren","children","FormType","View","template","_Handlebars2","main","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","escapeExpression","hooks","helperMissing","nullContext","getTemplateData","alert","settings","push","Button","click","self","model","doTransaction","transaction","cancel","then","state","set","Enums","DIRECTION_BACK","trigger","initialize","callGlobalSuccess","FORGOT_PASSWORD_EMAIL_SENT"],"mappings":"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"}