{"version":3,"file":"Footer.js","sources":["../../../../../../src/v1/views/expired-password/Footer.js"],"sourcesContent":["/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, internal } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nconst { Util } = internal.util;\nexport default View.extend({\n  template: hbs(\n    '\\\n      {{#if passwordWarn}}\\\n        <a href=\"#\" class=\"link help js-skip\" data-se=\"skip-link\">\\\n          {{i18n code=\"password.expiring.later\" bundle=\"login\"}}\\\n        </a>\\\n      {{/if}}\\\n      <a href=\"#\" class=\"link help goto js-signout\" data-se=\"signout-link\">\\\n        {{i18n code=\"signout\" bundle=\"login\"}}\\\n      </a>\\\n    '\n  ),\n  className: 'auth-footer clearfix',\n  events: {\n    'click .js-signout': function(e) {\n      e.preventDefault();\n      const self = this;\n      const authClient = self.settings.getAuthClient();\n\n      this.model\n        .doTransaction(function(transaction) {\n          return transaction.cancel();\n        })\n        .then(function() {\n          return authClient.session.exists();\n        })\n        .then(function(sessionExists) {\n          if (sessionExists) {\n            return authClient.closeSession().catch(() => {});\n          }\n        })\n        .then(function() {\n          if (self.settings.get('backToSignInUri')) {\n            Util.redirect(self.settings.get('backToSignInUri'));\n          } else {\n            self.state.set('navigateDir', Enums.DIRECTION_BACK);\n            self.options.appState.trigger('navigate', '');\n          }\n        });\n    },\n    'click .js-skip': function(e) {\n      e.preventDefault();\n      this.model.doTransaction(function(transaction) {\n        return transaction.skip();\n      });\n    },\n  },\n  getTemplateData: function() {\n    return { passwordWarn: this.options.appState.get('isPwdExpiringSoon') };\n  },\n});\n"],"names":["Util","internal","util","View","extend","template","_Handlebars2","1","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","escapeExpression","hooks","helperMissing","nullContext","main","stack1","alias1","program","noop","className","events","e","preventDefault","self","authClient","settings","getAuthClient","model","doTransaction","transaction","cancel","then","session","exists","sessionExists","closeSession","catch","get","redirect","state","set","Enums","DIRECTION_BACK","options","appState","trigger","skip","getTemplateData","passwordWarn"],"mappings":"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"}