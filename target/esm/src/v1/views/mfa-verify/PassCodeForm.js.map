{"version":3,"file":"PassCodeForm.js","sources":["../../../../../../src/v1/views/mfa-verify/PassCodeForm.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 7] */\nimport { _, loc, Form, createButton, View } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Q from 'q';\nimport Enums from 'util/Enums';\nimport TextBox from 'v1/views/shared/TextBox';\nconst subtitleTpl = hbs('({{subtitle}})');\nconst PassCodeFormwarningTemplate = View.extend({\n  className: 'okta-form-infobox-warning infobox infobox-warning login-timeout-warning',\n  attributes: {\n    'aria-live': 'polite',\n  },\n  template: hbs`\n      <span class=\"icon warning-16\"></span>\n      <p>{{{warning}}}</p>\n    `,\n});\n\nfunction getFormAndButtonDetails(factorType) {\n  switch (factorType) {\n  case 'sms':\n    return {\n      buttonDataSe: 'sms-send-code',\n      buttonClassName: 'sms-request-button',\n      formSubmit: loc('mfa.sendCode', 'login'),\n      formRetry: loc('mfa.resendCode', 'login'),\n      formSubmitted: loc('mfa.sent', 'login'),\n      subtitle: subtitleTpl({ subtitle: this.model.get('phoneNumber') }),\n      warning: hbs`{{i18n\n        code=\"factor.sms.time.warning\"\n        bundle=\"login\"\n        $1=\"<b>$1</b>\"\n      }}`,\n    };\n  case 'call':\n    return {\n      buttonDataSe: 'make-call',\n      buttonClassName: 'call-request-button',\n      formSubmit: loc('mfa.call', 'login'),\n      formRetry: loc('mfa.redial', 'login'),\n      formSubmitted: loc('mfa.calling', 'login'),\n      subtitle: subtitleTpl({ subtitle: this.model.get('phoneNumber') }),\n      warning: hbs`{{i18n\n        code=\"factor.call.time.warning\"\n        bundle=\"login\"\n        $1=\"<b>$1</b>\"\n      }}`,\n    };\n  case 'email':\n    return {\n      buttonDataSe: 'email-send-code',\n      buttonClassName: 'email-request-button',\n      formSubmit: loc('mfa.sendEmail', 'login'),\n      formRetry: loc('mfa.resendEmail', 'login'),\n      formSubmitted: loc('mfa.sent', 'login'),\n      subtitle: subtitleTpl({ subtitle: this.model.get('email') }),\n    };\n  default:\n    return {\n      buttonDataSe: '',\n      buttonClassName: '',\n      formSubmit: '',\n      formRetry: '',\n      formSubmitted: '',\n    };\n  }\n}\n\nexport default Form.extend({\n  className: 'mfa-verify-passcode',\n  autoSave: true,\n  noCancelButton: true,\n  save: _.partial(loc, 'mfa.challenge.verify', 'login'),\n  scrollOnError: false,\n  layout: 'o-form-theme',\n\n  disableSubmitButton: function() {\n    return this.model.appState.get('isMfaChallenge') && this.model.get('answer');\n  },\n\n  showWarning: function(msg) {\n    this.clearWarnings();\n    this.add(PassCodeFormwarningTemplate, '.o-form-error-container', { options: { warning: msg } });\n  },\n  clearWarnings: function() {\n    this.$('.okta-form-infobox-warning').remove();\n  },\n\n  initialize: function() {\n    const form = this;\n\n    this.title = this.model.get('factorLabel');\n\n    const factorType = this.model.get('factorType');\n    const formAndButtonDetails = getFormAndButtonDetails.call(this, factorType);\n    const warningDetails = formAndButtonDetails.warning;\n\n    this.$el.attr('data-se', 'factor-' + factorType);\n\n    this.subtitle = formAndButtonDetails.subtitle;\n    this.listenTo(this.model, 'error', function() {\n      this.clearErrors();\n    });\n    this.addInput({\n      label: loc('mfa.challenge.enterCode.placeholder', 'login'),\n      'label-top': true,\n      className: 'o-form-fieldset o-form-label-top auth-passcode',\n      name: 'answer',\n      input: TextBox,\n      type: 'tel',\n    });\n    this.add(\n      createButton({\n        attributes: { 'data-se': formAndButtonDetails.buttonDataSe },\n        className: 'button ' + formAndButtonDetails.buttonClassName,\n        title: formAndButtonDetails.formSubmit,\n        click: function() {\n          form.clearErrors();\n          this.disable();\n          form.clearWarnings();\n          this.options.title = formAndButtonDetails.formSubmitted;\n          this.render();\n          // To send an OTP to the device, make the same request but use\n          // an empty passCode\n          this.model.set('answer', '');\n          this.model\n            .save()\n            .then(function() {\n              // render and focus on the passcode input field.\n              form.getInputs().first().render().focus();\n              return Q.delay(Enums.API_RATE_LIMIT);\n            })\n            .then(() => {\n              this.options.title = formAndButtonDetails.formRetry;\n              this.enable();\n              if (factorType === 'call' || factorType === 'sms') {\n                form.showWarning(warningDetails);\n              }\n              this.render();\n            });\n        },\n      })\n    );\n    if (this.options.appState.get('allowRememberDevice')) {\n      this.addInput({\n        label: false,\n        'label-top': true,\n        placeholder: this.options.appState.get('rememberDeviceLabel'),\n        className: 'margin-btm-0',\n        name: 'rememberDevice',\n        type: 'checkbox',\n      });\n    }\n  },\n});\n"],"names":["subtitleTpl","_Handlebars2","template","main","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","escapeExpression","hooks","helperMissing","nullContext","PassCodeFormwarningTemplate","View","extend","className","attributes","stack1","getFormAndButtonDetails","factorType","buttonDataSe","buttonClassName","formSubmit","loc","formRetry","formSubmitted","subtitle","model","get","warning","Form","autoSave","noCancelButton","save","_","partial","scrollOnError","layout","disableSubmitButton","appState","showWarning","msg","clearWarnings","add","options","$","remove","initialize","form","title","formAndButtonDetails","warningDetails","$el","attr","listenTo","clearErrors","addInput","label","name","input","TextBox","type","createButton","click","disable","render","set","then","getInputs","first","focus","Q","delay","Enums","API_RATE_LIMIT","enable","placeholder"],"mappings":"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"}